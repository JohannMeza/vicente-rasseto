"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[502],{2051:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(9439),r=t(1413),i=t(8870),s=t(3767),o=t(1889),l=t(9836),c=t(6890),u=t(5855),d=t(3994),E=t(3382),m=t(2791),x=t(4673),h=t(5760),f=t(6249),p=t(6206),j=t(9969),g=t(6871),I=t(3943),P=t(4092),v=t(7535),b=t(6915),C=t(589),R=t(8012),S=t(184),Z={rowsPerPage:10,page:0,count:0},N={NOMBRE_PERFIL:"",IS_MANAGEABLE:!0,ESTADO:!0},O={NOMBRE_PERFIL:null,ESTADO:!0},A=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function F(){var e=(0,C.default)(),n=(0,m.useState)([]),t=(0,a.Z)(n,2),F=t[0],B=t[1],_=(0,m.useState)(Z),L=(0,a.Z)(_,2),M=L[0],y=L[1],T=(0,m.useState)(!1),D=(0,a.Z)(T,2),k=D[0],w=D[1],G=(0,p.useFormValidation)(N,!0),q=G.data,U=G.setData,V=G.errors,W=G.setErrors,H=G.handleInputFormChange,K=G.resetForm,X=(0,I.useForm)(O),z=(0,a.Z)(X,3),J=z[0],Q=z[1],Y=z[2],$=(0,g.s0)(),ee=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e(!0),(0,f.SaveRequestData)({path:j.pathServer.SEGURIDAD.PERFILES.INDEX,body:J,fnRequest:v.SERVICES_POST,pagination:!0,rowsPerPage:n,page:t,success:function(n){var t=n.rowsPerPage,a=n.count,r=n.page;--r,y({rowsPerPage:t,count:a,page:r}),B(n.data),e(!1)},error:function(n){e(!1),(0,b.MessageUtil)({message:n.statusText,type:"error",seg:10})}})},ne=function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=(0,r.Z)({},V);if("NOMBRE_PERFIL"in e&&(n.NOMBRE_PERFIL=e.NOMBRE_PERFIL?"":"El campo Nombre de Perfil es requerido"),W((0,r.Z)({},n)),console.log(n,Object.values(n).every((function(e){return""===e}))),e===q)return Object.values(n).every((function(e){return""===e}))})()&&(e(!0),(0,f.SaveRequestData)({path:j.pathServer.SEGURIDAD.PERFILES.NEW,body:q,fnRequest:v.SERVICES_POST,success:function(n){ee(),w(!1),K(),e(!1),(0,b.MessageUtil)({message:n.statusText,type:"success",seg:10})},error:function(n){K(),w(!1),e(!1),(0,b.MessageUtil)({message:n.statusText,type:"error",seg:10})}}))},te=function(){w(!1),Y()};return(0,m.useEffect)((function(){ee()}),[]),(0,S.jsxs)(i.Z,{children:[(0,S.jsxs)(s.Z,{direction:"row",spacing:3,children:[(0,S.jsx)(x.default.Title,{variant:"h1",component:"h1",title:"Perfiles"}),(0,S.jsx)(x.default.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nuevo Perfil",onClick:function(){return w(!0)}})]}),(0,S.jsx)("br",{}),(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(x.default.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,S.jsx)("br",{}),(0,S.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(o.ZP,{item:!0,xs:3,children:(0,S.jsx)(x.default.InputComponent,{label:"Nombre",name:"NOMBRE_PERFIL",value:J.NOMBRE_PERFIL,onChange:Q})}),(0,S.jsx)(o.ZP,{item:!0,xs:3,children:(0,S.jsx)(x.default.SelectComponent,{label:"Estado",name:"ESTADO",list:A,value:J.ESTADO,onChange:Q})})]}),(0,S.jsx)("br",{}),(0,S.jsx)(P.default,{resetForm:function(){return Y()},filterForm:function(){return ee()}})]}),(0,S.jsx)("br",{}),(0,S.jsx)(x.default.TableComponents,{pagination:M,setPagination:y,fnPagination:ee,children:(0,S.jsxs)(l.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,S.jsx)(c.Z,{children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(d.Z,{children:"Nombre"}),(0,S.jsx)(d.Z,{children:"Administrable"}),(0,S.jsx)(d.Z,{children:"Operaci\xf3n"})]})}),(0,S.jsx)(E.Z,{children:F.length>0?F.map((function(e,n){return(0,S.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,S.jsx)(d.Z,{children:e.NOMBRE_PERFIL}),(0,S.jsx)(d.Z,{children:e.IS_MANAGEABLE?"Administrable":"No Administrable"}),(0,S.jsx)(d.Z,{children:(0,S.jsxs)(s.Z,{direction:"row",spacing:1,children:[(0,S.jsx)(x.default.ButtonIconComponent,{title:"Editar",icon:h.ICON.EDIT,onClick:function(){return function(e){w(!0),U(e)}(e)}}),(0,S.jsx)(x.default.ButtonIconComponent,{title:"Eliminar",icon:h.ICON.DELETE}),(0,S.jsx)(x.default.ButtonComponent,{title:"CONFIGURAR",variant:"secondary-small",type:"admin",onClick:function(){return $(R.pathFront.PERFILES_CONFIG+e._id)}})]})})]},n)})):(0,S.jsx)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,S.jsx)(d.Z,{colSpan:5,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})}),(0,S.jsxs)(x.default.Modal,{open:k,setOpen:te,minWidth:600,fullWidth:!0,maxWidth:"sm",title:"Nuevo Perfil",children:[(0,S.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(x.default.InputComponent,{label:"Nombre de la Sub P\xe1gina",name:"NOMBRE_PERFIL",onChange:H,value:q.NOMBRE_PERFIL,error:V.NOMBRE_PERFIL})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(x.default.SelectComponent,{label:"Estado",list:A,name:"ESTADO",value:q.ESTADO,onChange:H})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(x.default.SelectComponent,{label:"Administrable",list:A,name:"IS_MANAGEABLE",value:q.IS_MANAGEABLE,onChange:H})})]}),(0,S.jsx)("br",{}),(0,S.jsxs)(s.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,S.jsx)(x.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:h.ICON.BACK,onClick:function(){return te()}}),(0,S.jsx)(x.default.ButtonComponent,{title:"Guardar",variant:"primary-normal",type:"admin",icon:h.ICON.SAVE,onClick:function(){return ne()}})]})]})]})}}}]);
//# sourceMappingURL=502.76b1738a.chunk.js.map