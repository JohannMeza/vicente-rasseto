"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[401,149],{9401:function(n,e,t){t.r(e);var r=t(2791),i=t(6871),a=t(3329),s=t(4149),o=(t(7631),t(184)),c=function(){return(0,o.jsxs)(i.Z5,{children:[(0,o.jsx)(i.AW,{path:"/admin",element:(0,o.jsx)(a.default,{})}),(0,o.jsx)(i.AW,{path:"/configuracion/:id",element:(0,o.jsx)(s.default,{})})]})};e.default=(0,r.memo)(c)},4149:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var r=t(1413),i=t(9439),a=t(8870),s=t(3767),o=t(1889),c=t(9836),l=t(6890),u=t(5855),d=t(3994),x=t(3382),m=t(2791),h=t(6871),p=t(8012),Z=t(9412),g=t(5760),j=t(9969),f=t(589),N=t(4634),E=t(6249),C=t(7535),B=t(2480),P=t(3943),b=t(4092),v=t(184),M=[{field:"NOMBRE_SUBMENU",headerName:"Nombre",width:180},{field:"NOMBRE_ICON",headerName:"Icono",width:180},{field:"PATH",headerName:"Ruta",width:180}],O={rowsPerPage:5,page:1,count:0},S={NOMBRE_SUBMENU:null,PATH:null,ESTADO:!0},A={NOMBRE_SUBMENU:null,PATH:null},R={rowsPerPage:10,page:0,count:0},I=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function U(){var n=(0,h.s0)(),e=(0,m.useState)(!1),t=(0,i.Z)(e,2),U=t[0],y=t[1],_=(0,m.useState)(!1),T=(0,i.Z)(_,2),w=T[0],k=T[1],V=(0,m.useState)([]),H=(0,i.Z)(V,2),D=H[0],F=H[1],G=(0,m.useState)(O),W=(0,i.Z)(G,2),q=W[0],L=W[1],z=(0,m.useState)(R),K=(0,i.Z)(z,2),Q=K[0],X=K[1],J=(0,f.Z)(),Y=(0,m.useState)([]),$=(0,i.Z)(Y,2),nn=$[0],en=$[1],tn=(0,m.useState)([]),rn=(0,i.Z)(tn,2),an=rn[0],sn=rn[1],on=(0,m.useState)([]),cn=(0,i.Z)(on,2),ln=cn[0],un=cn[1],dn=(0,m.useState)(null),xn=(0,i.Z)(dn,2),mn=xn[0],hn=xn[1],pn=(0,h.UO)().id,Zn=(0,P.c)(S),gn=(0,i.Z)(Zn,3),jn=gn[0],fn=gn[1],Nn=gn[2],En=(0,P.c)(A),Cn=(0,i.Z)(En,3),Bn=Cn[0],Pn=Cn[1],bn=Cn[2],vn=function(){y(!1),L(O)},Mn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;J(!0),k(!0),(0,E.a)({path:j.B3.CONFIGURACION.SUBMENU.INDEX,body:jn,fnRequest:C.yA,pagination:!0,rowsPerPage:n,page:e,success:function(n){var e=n.data.map((function(n){return(0,r.Z)((0,r.Z)({},n),{},{id:n._id})})),t=n.rowsPerPage,i=n.count,a=n.page;F(e),L({rowsPerPage:t,count:i,page:a}),J(!1),k(!1)},error:function(n){console.log(n),(0,N.V)({message:n.statusText,type:"error",seg:10})}})};return(0,m.useEffect)((function(){U&&Mn()}),[U]),(0,m.useEffect)((function(){J(!0),(0,E.a)({path:j.B3.CONFIG_MENU.SEARCH_SUBPAGINAS+pn,body:jn,fnRequest:C.yA,success:function(n){var e,t=null===(e=n.data)||void 0===e?void 0:e.ID_CONFIGURACION_SUBMENU;hn(n.data.PATH),sn(t),un(t),en(Array.from(t,(function(n){return n._id}))),X({rowsPerPage:10,count:t.length,page:0}),J(!1)},error:function(n){J(!1),(0,N.V)({message:n.statusText,type:"error",seg:10})}})}),[]),(0,v.jsxs)(a.Z,{sx:{width:"100%"},children:[(0,v.jsx)(s.Z,{direction:"row",spacing:3,children:(0,v.jsx)(Z.Z.Title,{variant:"h1",component:"h1",title:"Configuraci\xf3n"})}),(0,v.jsx)("br",{}),(0,v.jsxs)(a.Z,{children:[(0,v.jsx)(Z.Z.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,v.jsx)("br",{}),(0,v.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(o.ZP,{item:!0,xs:3,children:(0,v.jsx)(Z.Z.InputComponent,{label:"Nombre",name:"NOMBRE_SUBMENU",value:Bn.NOMBRE_SUBMENU,onChange:Pn})}),(0,v.jsx)(o.ZP,{item:!0,xs:3,children:(0,v.jsx)(Z.Z.InputComponent,{label:"Ruta",name:"PATH",value:Bn.PATH,onChange:Pn})})]}),(0,v.jsx)("br",{}),(0,v.jsx)(b.Z,{resetForm:function(){return bn()},filterForm:function(){return function(){var n=Bn.PATH,e=Bn.NOMBRE_SUBMENU;n=new RegExp(n||"","ig"),e=new RegExp(e||"","ig");var t=an.filter((function(t){return t.PATH.match(n)&&t.NOMBRE_SUBMENU.match(e)}));un(t)}()}})]}),(0,v.jsx)("br",{}),(0,v.jsx)(Z.Z.TableComponents,{pagination:Q,setPagination:X,children:(0,v.jsxs)(c.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,v.jsx)(l.Z,{children:(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(d.Z,{children:"Nombre"}),(0,v.jsx)(d.Z,{children:"Ruta"}),(0,v.jsx)(d.Z,{children:"Ruta Final"}),(0,v.jsx)(d.Z,{children:"Icon"}),(0,v.jsx)(d.Z,{children:(0,v.jsx)(Z.Z.ButtonComponent,{title:"AGREGAR",variant:"primary-small",type:"admin",onClick:function(){return y(!0)}})})]})}),(0,v.jsx)(x.Z,{children:(null===ln||void 0===ln?void 0:ln.length)>0?ln.slice(Q.page*Q.rowsPerPage,Q.page*Q.rowsPerPage+Q.rowsPerPage).map((function(n,e){return(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(d.Z,{children:n.NOMBRE_SUBMENU}),(0,v.jsx)(d.Z,{children:n.PATH}),(0,v.jsx)(d.Z,{children:mn+n.PATH}),(0,v.jsx)(d.Z,{children:n.NOMBRE_ICON}),(0,v.jsx)(d.Z,{children:(0,v.jsx)(s.Z,{direction:"row",spacing:1,children:(0,v.jsx)(Z.Z.ButtonIconComponent,{title:"Eliminar",icon:g.W.DELETE,onClick:function(){return function(n){(0,B.k)((function(){var e=an.filter((function(e){return e.id?e.id!==n:e._id!==n})),t=ln.filter((function(e){return e.id?e.id!==n:e._id!==n})),i=nn.filter((function(e){return e!==n}));sn(e),un(t),en(i),X((0,r.Z)((0,r.Z)({},Q),{},{rowsPerPage:10,count:e.length}))}),{config:{title:"\xbfEst\xe1s seguro?",text:"\xa1Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}})}(n.id||n._id)}})})})]},e)})):(0,v.jsx)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,v.jsx)(d.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})}),(0,v.jsx)("br",{}),(0,v.jsxs)(s.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,v.jsx)(Z.Z.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:g.W.BACK,onClick:function(){return n(p.v.ADMINISTRACION.PAGINAS.ADMIN)}}),(0,v.jsx)(Z.Z.ButtonComponent,{title:"Guardar",variant:"primary-normal",type:"admin",icon:g.W.SAVE,onClick:function(){return J(!0),void(0,E.a)({path:j.B3.CONFIGURACION.MENU.UPDATE_SUBMENUS+pn,body:{arrSubmenus:nn},fnRequest:C.LE,success:function(e){n(p.v.ADMINISTRACION.PAGINAS.ADMIN),J(!1),(0,N.V)({message:e.statusText,type:"success",seg:10})},error:function(n){(0,N.V)({message:n.statusText,type:"error",seg:10}),J(!1)}})}})]}),(0,v.jsxs)(Z.Z.Modal,{open:U,setOpen:y,title:"Agregar Sub P\xe1ginas",fullWidth:!0,maxWidth:"md",children:[(0,v.jsxs)(a.Z,{children:[(0,v.jsx)(Z.Z.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,v.jsx)("br",{}),(0,v.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(o.ZP,{item:!0,xs:3,children:(0,v.jsx)(Z.Z.InputComponent,{label:"Nombre",name:"NOMBRE_SUBMENU",value:jn.NOMBRE_SUBMENU,onChange:fn})}),(0,v.jsx)(o.ZP,{item:!0,xs:3,children:(0,v.jsx)(Z.Z.InputComponent,{label:"Ruta",name:"PATH",value:jn.PATH,onChange:fn})}),(0,v.jsx)(o.ZP,{item:!0,xs:3,children:(0,v.jsx)(Z.Z.SelectComponent,{label:"Estado",name:"ESTADO",list:I,value:jn.ESTADO,onChange:fn})})]}),(0,v.jsx)("br",{}),(0,v.jsx)(b.Z,{resetForm:function(){return Nn()},filterForm:function(){return Mn()}})]}),(0,v.jsx)("br",{}),(0,v.jsx)("div",{style:{height:400,width:"100%"},children:(0,v.jsx)(Z.Z.TableSelectionComponent,{rows:D,columns:M,pageSize:q,setPageSize:L,loading:w,rowsPerPageOptions:[5,10,20],onSelectionModelChange:function(n){return en(n)},fnPagination:Mn,selectionModel:nn})}),(0,v.jsx)("br",{}),(0,v.jsxs)(s.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,v.jsx)(Z.Z.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:g.W.BACK,onClick:function(){return vn()}}),(0,v.jsx)(Z.Z.ButtonComponent,{title:"Guardar",variant:"primary-normal",type:"admin",icon:g.W.SAVE,onClick:function(){return J(!0),void(0,E.a)({path:j.B3.CONFIGURACION.SUBMENU.SEARCH_MULTI_IDS,body:{arrIds:nn},fnRequest:C.yA,success:function(n){sn(n.data),un(n.data),J(!1),vn(),X({rowsPerPage:10,count:n.data.length,page:0}),(0,N.V)({message:n.statusText,type:"success",seg:10})},error:function(n){(0,N.V)({message:n.statusText,type:"error",seg:10}),J(!1)}})}})]})]})]})}},7631:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var r=t(9439),i=t(1413),a=t(2791),s=t(8870),o=t(3767),c=t(1889),l=t(9836),u=t(6890),d=t(5855),x=t(3994),m=t(3382),h=t(9412),p=t(6871),Z=t(5760),g=t(6206),j=t(6249),f=t(1976),N=t(9969),E=t(4634),C=(t(7318),t(2480)),B=t(589),P=t(184),b={NOMBRE_MENU:"",NOMBRE_ICON:""};function v(){var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=(0,i.Z)({},I);if("NOMBRE_MENU"in n&&(e.NOMBRE_MENU=""===n.NOMBRE_MENU?"El campo Nombre de la P\xe1gina es requerido":""),"NOMBRE_ICON"in n&&(e.NOMBRE_ICON=""===n.NOMBRE_ICON?"El campo Nombre del Icono es requerido":""),U((0,i.Z)({},e)),n===A)return Object.values(e).every((function(n){return""===n}))},e=(0,p.s0)(),t=(0,a.useState)(!1),v=(0,r.Z)(t,2),M=(v[0],v[1]),O=(0,p.UO)().id,S=(0,g.Q)(b,n),A=S.data,R=S.setData,I=S.errors,U=S.setErrors,y=S.handleInputFormChange,_=(0,a.useState)(null),T=(0,r.Z)(_,2),w=(T[0],T[1]),k=(0,a.useState)([]),V=(0,r.Z)(k,2),H=V[0],D=V[1],F=(0,B.Z)(),G=(0,a.useCallback)((function(){(0,j.a)({path:"".concat(N.sp).concat(O),body:{},fnRequest:f.AE,success:function(n){R(n.data.menu),D(n.data.submenu)},error:function(n){e("/administrador/paginas/admin"),(0,E.V)({message:n.statusText,type:"error",seg:10})}})}),[O,e,R]);return(0,a.useEffect)((function(){O&&G()}),[O]),(0,P.jsxs)(s.Z,{children:[(0,P.jsx)(o.Z,{direction:"row",spacing:3,children:(0,P.jsx)(h.Z.Title,{variant:"h1",component:"h1",title:"P\xe1ginas"})}),(0,P.jsx)("br",{}),(0,P.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,P.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,xxl:6,children:(0,P.jsx)(h.Z.Card,{title:O?"Editar P\xe1gina":"Nueva P\xe1gina",children:(0,P.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(h.Z.InputComponent,{label:"Nombre de la p\xe1gina",name:"NOMBRE_MENU",value:A.NOMBRE_MENU,onChange:y,error:I.NOMBRE_MENU})}),(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(h.Z.InputComponent,{label:"Nombre del icono",name:"NOMBRE_ICON",value:A.NOMBRE_ICON,onChange:y,error:I.NOMBRE_ICON})})]})})}),(0,P.jsxs)(c.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,xxl:6,children:[(0,P.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,P.jsx)(h.Z.TextComponent,{variant:"text1",component:"span",children:"Sub P\xe1gina"}),(0,P.jsx)(h.Z.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nueva Sub P\xe1gina",onClick:function(){return M(!0)}})]}),(0,P.jsx)("br",{}),(0,P.jsx)(h.Z.TableComponents,{children:(0,P.jsxs)(l.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,P.jsx)(u.Z,{children:(0,P.jsxs)(d.Z,{children:[(0,P.jsx)(x.Z,{children:"Nombre"}),(0,P.jsx)(x.Z,{children:"Ruta"}),(0,P.jsx)(x.Z,{children:"Icono"}),(0,P.jsx)(x.Z,{children:"Operaci\xf3n"})]})}),(0,P.jsx)(m.Z,{children:H.length>0?H.map((function(n,e){return(0,P.jsxs)(d.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,P.jsx)(x.Z,{children:n.NOMBRE_SUBMENU}),(0,P.jsx)(x.Z,{children:n.NOMBRE_ICON}),(0,P.jsx)(x.Z,{children:n.PATH}),(0,P.jsx)(x.Z,{children:(0,P.jsxs)(o.Z,{direction:"row",spacing:1,children:[(0,P.jsx)(h.Z.ButtonIconComponent,{title:"Editar",icon:Z.W.EDIT,onClick:function(){return function(n){w((0,i.Z)({},n)),M(!0)}(n)}}),(0,P.jsx)(h.Z.ButtonIconComponent,{title:"Eliminar",icon:Z.W.DELETE,onClick:function(){return function(n){(0,C.k)((function(){var e=H.filter((function(e){return e.id?e.id!==n:e._id!==n}));D(e)}),{config:{title:"\xbfEst\xe1s seguro?",text:"Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}})}(n.id||n._id)}})]})})]},e)})):(0,P.jsx)(d.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,P.jsx)(x.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})})]})]}),(0,P.jsx)("br",{}),(0,P.jsxs)(o.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,P.jsx)(h.Z.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:Z.W.BACK,onClick:function(){return e("/administrador/paginas/admin")}}),(0,P.jsx)(h.Z.ButtonComponent,{title:O?"Actualizar":"Guardar",variant:"primary-normal",type:"admin",icon:Z.W.SAVE,onClick:function(){n()&&(F(!0),(0,j.a)({path:N.oK,body:(0,i.Z)((0,i.Z)({},A),{},{SUBMENUS:H}),fnRequest:f.Mz,success:function(n){F(!1),e("/administrador/paginas/admin"),(0,E.V)({message:n.statusText,type:"success",seg:10})},error:function(n){(0,E.V)({message:n.statusText,type:"error",seg:10})}}))}})]})]})}}}]);
//# sourceMappingURL=401.212b8cde.chunk.js.map