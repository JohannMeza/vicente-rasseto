"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[631,318],{7318:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var a=t(1413),i=t(9439),r=t(8870),s=t(3767),o=t(1889),l=t(9836),c=t(6890),u=t(5855),d=t(3994),x=t(3382),m=t(2791),h=t(4092),p=t(9969),g=t(4673),j=t(5760),f=t(6249),E=t(3943),N=t(6206),C=t(589),O=t(1976),Z=t(7535),v=t(2480),M=t(6915),b=t(184),I={rowsPerPage:10,page:0,count:0},R={NOMBRE_MENU:null,NOMBRE_ICON:null,PATH:null,ESTADO:!0},P={NOMBRE_MENU:null,PATH:null,ESTADO:!0},B=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function _(){var e=(0,m.useState)([]),n=(0,i.Z)(e,2),t=n[0],_=n[1],T=(0,m.useState)(!1),S=(0,i.Z)(T,2),U=S[0],y=S[1],A=(0,N.useFormValidation)(R,!0),k=A.data,D=A.setData,w=A.errors,F=A.handleInputFormChange,q=A.resetForm,H=(0,E.useForm)(P),V=(0,i.Z)(H,3),G=V[0],L=V[1],W=V[2],K=(0,m.useState)(I),z=(0,i.Z)(K,2),X=z[0],J=z[1],Q=(0,C.default)(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Q(!0),(0,f.SaveRequestData)({path:p.CONFIG_INDEX,body:G,fnRequest:O.listMenu,pagination:!0,rowsPerPage:e,page:n,success:function(e){Q(!1);var n=e.rowsPerPage,t=e.count,a=e.page;--a,_(e.data),J({rowsPerPage:n,count:t,page:a})},error:function(e){Q(!1),(0,M.MessageUtil)({message:e.statusText,type:"error",seg:10})}})};return(0,m.useEffect)((function(){Y()}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{direction:"row",spacing:3,children:[(0,b.jsx)(g.default.Title,{variant:"h1",component:"h1",title:"P\xe1ginas"}),(0,b.jsx)(g.default.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nueva P\xe1gina",onClick:function(){return y(!0)}})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(g.default.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,b.jsx)("br",{}),(0,b.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(g.default.InputComponent,{label:"Nombre de la P\xe1gina",name:"NOMBRE_MENU",onChange:L,value:G.NOMBRE_MENU})}),(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(g.default.InputComponent,{label:"Ruta",name:"PATH",onChange:L,value:G.PATH})}),(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(g.default.SelectComponent,{label:"Estado",list:B,name:"ESTADO",onChange:L,value:G.ESTADO})})]}),(0,b.jsx)("br",{}),(0,b.jsx)(h.default,{resetForm:W,filterForm:Y})]}),(0,b.jsx)("br",{}),(0,b.jsx)(g.default.TableComponents,{pagination:X,setPagination:J,fnPagination:Y,children:(0,b.jsxs)(l.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,b.jsx)(c.Z,{children:(0,b.jsxs)(u.Z,{children:[(0,b.jsx)(d.Z,{children:"Nombre"}),(0,b.jsx)(d.Z,{children:"Ruta"}),(0,b.jsx)(d.Z,{children:"Icon"}),(0,b.jsx)(d.Z,{children:"Operaci\xf3n"})]})}),(0,b.jsx)(x.Z,{children:t.length>0?t.map((function(e,n){return(0,b.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,b.jsx)(d.Z,{children:e.NOMBRE_MENU}),(0,b.jsx)(d.Z,{children:e.PATH}),(0,b.jsx)(d.Z,{children:e.NOMBRE_ICON}),(0,b.jsx)(d.Z,{children:(0,b.jsxs)(s.Z,{direction:"row",spacing:1,children:[(0,b.jsx)(g.default.ButtonIconComponent,{title:"Editar",icon:j.ICON.EDIT,onClick:function(){return function(e){y(!0),D(e)}(e)}}),(0,b.jsx)(g.default.ButtonIconComponent,{title:"Eliminar",icon:j.ICON.DELETE,onClick:function(){return n=e._id,void(0,v.AlertUtilDelete)((function(){(0,f.SaveRequestData)({path:"".concat(p.CONFIG_DELETE,"/").concat(n),body:{},fnRequest:O.deleteMenu,success:function(e){(0,v.AlertUtilRelease)({title:"\xa1Eliminado!",text:e.statusText,icon:"success"}),Y()},error:function(e){(0,M.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}),{config:{title:"\xbfEst\xe1s seguro?",text:"Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}});var n}})]})})]},n)})):(0,b.jsx)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,b.jsx)(d.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})})]}),(0,b.jsx)(g.default.Modal,{open:U,setOpen:y,title:k._id?"Editar P\xe1gina":"Agregar Nueva P\xe1gina",fullWidth:!0,resetForm:q,maxWidth:"sm",children:(0,b.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.default.InputComponent,{label:"Nombre de la p\xe1gina",name:"NOMBRE_MENU",value:k.NOMBRE_MENU,onChange:F,error:w.NOMBRE_MENU})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.default.InputComponent,{label:"Nombre del icono",name:"NOMBRE_ICON",value:k.NOMBRE_ICON,onChange:F,error:w.NOMBRE_ICON})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.default.InputComponent,{label:"Ruta Base",name:"PATH",value:k.PATH,onChange:F,error:w.PATH})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.default.SelectComponent,{label:"Estado",name:"ESTADO",value:k.ESTADO,list:B,onChange:F,error:w.ESTADO})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsxs)(s.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,b.jsx)(g.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:j.ICON.BACK,onClick:function(){return y(!1)}}),(0,b.jsx)(g.default.ButtonComponent,{title:k._id?"Editar":"Guardar",variant:"primary-normal",type:"admin",icon:j.ICON.SAVE,onClick:function(){return console.log(w),Q(!0),k._id,void(0,f.SaveRequestData)({path:p.pathServer.CONFIGURACION.MENU.NEW,body:(0,a.Z)({},k),fnRequest:Z.SERVICES_POST,success:function(e){Y(),(0,M.MessageUtil)({message:e.statusText,type:"success",seg:10}),y(!1),Q(!1)},error:function(e){Q(!1),(0,M.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}})]})})]})})]})}},7631:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var a=t(9439),i=t(1413),r=t(2791),s=t(8870),o=t(3767),l=t(1889),c=t(9836),u=t(6890),d=t(5855),x=t(3994),m=t(3382),h=t(4673),p=t(6871),g=t(5760),j=t(6206),f=t(6249),E=t(1976),N=t(9969),C=t(6915),O=(t(7318),t(2480)),Z=t(589),v=t(184),M={NOMBRE_MENU:"",NOMBRE_ICON:""};function b(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=(0,i.Z)({},T);if("NOMBRE_MENU"in e&&(n.NOMBRE_MENU=""===e.NOMBRE_MENU?"El campo Nombre de la P\xe1gina es requerido":""),"NOMBRE_ICON"in e&&(n.NOMBRE_ICON=""===e.NOMBRE_ICON?"El campo Nombre del Icono es requerido":""),S((0,i.Z)({},n)),e===B)return Object.values(n).every((function(e){return""===e}))},n=(0,p.s0)(),t=(0,r.useState)(!1),b=(0,a.Z)(t,2),I=(b[0],b[1]),R=(0,p.UO)().id,P=(0,j.useFormValidation)(M,e),B=P.data,_=P.setData,T=P.errors,S=P.setErrors,U=P.handleInputFormChange,y=(0,r.useState)(null),A=(0,a.Z)(y,2),k=(A[0],A[1]),D=(0,r.useState)([]),w=(0,a.Z)(D,2),F=w[0],q=w[1],H=(0,Z.default)(),V=(0,r.useCallback)((function(){(0,f.SaveRequestData)({path:"".concat(N.CONFIG_SHOW).concat(R),body:{},fnRequest:E.showMenu,success:function(e){_(e.data.menu),q(e.data.submenu)},error:function(e){n("/administrador/paginas/admin"),(0,C.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}),[R,n,_]);return(0,r.useEffect)((function(){R&&V()}),[R]),(0,v.jsxs)(s.Z,{children:[(0,v.jsx)(o.Z,{direction:"row",spacing:3,children:(0,v.jsx)(h.default.Title,{variant:"h1",component:"h1",title:"P\xe1ginas"})}),(0,v.jsx)("br",{}),(0,v.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,v.jsx)(l.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,xxl:6,children:(0,v.jsx)(h.default.Card,{title:R?"Editar P\xe1gina":"Nueva P\xe1gina",children:(0,v.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsx)(h.default.InputComponent,{label:"Nombre de la p\xe1gina",name:"NOMBRE_MENU",value:B.NOMBRE_MENU,onChange:U,error:T.NOMBRE_MENU})}),(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsx)(h.default.InputComponent,{label:"Nombre del icono",name:"NOMBRE_ICON",value:B.NOMBRE_ICON,onChange:U,error:T.NOMBRE_ICON})})]})})}),(0,v.jsxs)(l.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,xxl:6,children:[(0,v.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,v.jsx)(h.default.TextComponent,{variant:"text1",component:"span",children:"Sub P\xe1gina"}),(0,v.jsx)(h.default.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nueva Sub P\xe1gina",onClick:function(){return I(!0)}})]}),(0,v.jsx)("br",{}),(0,v.jsx)(h.default.TableComponents,{children:(0,v.jsxs)(c.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,v.jsx)(u.Z,{children:(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(x.Z,{children:"Nombre"}),(0,v.jsx)(x.Z,{children:"Ruta"}),(0,v.jsx)(x.Z,{children:"Icono"}),(0,v.jsx)(x.Z,{children:"Operaci\xf3n"})]})}),(0,v.jsx)(m.Z,{children:F.length>0?F.map((function(e,n){return(0,v.jsxs)(d.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,v.jsx)(x.Z,{children:e.NOMBRE_SUBMENU}),(0,v.jsx)(x.Z,{children:e.NOMBRE_ICON}),(0,v.jsx)(x.Z,{children:e.PATH}),(0,v.jsx)(x.Z,{children:(0,v.jsxs)(o.Z,{direction:"row",spacing:1,children:[(0,v.jsx)(h.default.ButtonIconComponent,{title:"Editar",icon:g.ICON.EDIT,onClick:function(){return function(e){k((0,i.Z)({},e)),I(!0)}(e)}}),(0,v.jsx)(h.default.ButtonIconComponent,{title:"Eliminar",icon:g.ICON.DELETE,onClick:function(){return function(e){(0,O.AlertUtilDelete)((function(){var n=F.filter((function(n){return n.id?n.id!==e:n._id!==e}));q(n)}),{config:{title:"\xbfEst\xe1s seguro?",text:"Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}})}(e.id||e._id)}})]})})]},n)})):(0,v.jsx)(d.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,v.jsx)(x.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})})]})]}),(0,v.jsx)("br",{}),(0,v.jsxs)(o.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,v.jsx)(h.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:g.ICON.BACK,onClick:function(){return n("/administrador/paginas/admin")}}),(0,v.jsx)(h.default.ButtonComponent,{title:R?"Actualizar":"Guardar",variant:"primary-normal",type:"admin",icon:g.ICON.SAVE,onClick:function(){e()&&(H(!0),(0,f.SaveRequestData)({path:N.CONFIG_NEW,body:(0,i.Z)((0,i.Z)({},B),{},{SUBMENUS:F}),fnRequest:E.saveMenu,success:function(e){H(!1),n("/administrador/paginas/admin"),(0,C.MessageUtil)({message:e.statusText,type:"success",seg:10})},error:function(e){(0,C.MessageUtil)({message:e.statusText,type:"error",seg:10})}}))}})]})]})}}}]);
//# sourceMappingURL=631.0aa583b4.chunk.js.map