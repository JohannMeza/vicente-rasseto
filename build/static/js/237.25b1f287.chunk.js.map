{"version":3,"file":"static/js/237.25b1f287.chunk.js","mappings":"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","sources":["modules/administrador/paginas/detail/SubpaginasDetail.js"],"sourcesContent":["import {\r\n  Box,\r\n  Grid,\r\n  Stack,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@mui/material\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ButtonsSearchComponent from \"../../../../components/utilComponents/ButtonsSearchComponent\";\r\nimport { CONFIG_SUBMENU_INDEX, CONFIG_SUBMENU_NEW, CONFIG_SUBMENU_DELETE } from \"../../../../config/router/path\";\r\nimport Controls from \"../../../../framework/components/Controls\";\r\nimport { ICON } from \"../../../../framework/components/icons/Icon\";\r\nimport { SaveRequestData } from \"../../../../helpers/helpRequestBackend\";\r\nimport { useForm } from \"../../../../hooks/useForm\";\r\nimport { useFormValidation } from \"../../../../hooks/useFormValidation\";\r\nimport useLoaderContext from \"../../../../hooks/useLoaderContext\";\r\nimport {deleteSubmenu, listSubmenu, saveSubmenu} from \"../../../../services/configuracion_submenu.axios\";\r\nimport { AlertUtilDelete, AlertUtilRelease } from \"../../../../util/AlertUtil\";\r\nimport { MessageUtil } from \"../../../../util/MessageUtil\";\r\n\r\nconst dataInitialSubPaginas = {\r\n  NOMBRE_SUBMENU: null,\r\n  NOMBRE_ICON: null,\r\n  PATH: null,\r\n  ESTADO:  true\r\n};\r\n\r\nconst dataInitialFilter = {\r\n  NOMBRE_SUBMENU: null,\r\n  PATH: null,\r\n  ESTADO:  true\r\n}\r\n\r\nconst paginate = {\r\n  rowsPerPage: 10,\r\n  page: 0,\r\n  count: 0\r\n}\r\n\r\nconst listEstado = [\r\n  { label: \"Activo\", value: true },\r\n  { label: \"Inactivo\", value: false },\r\n]\r\n\r\nexport default function SubpaginasDetail() {\r\n  const [paginas, setPaginas] = useState([]);\r\n  const [openModal, setOpenModal] = useState(false)\r\n  const {data, setData, errors, handleInputFormChange, resetForm} = useFormValidation(dataInitialSubPaginas, true)\r\n  const [dataForm, handleInputChange, resetData] = useForm(dataInitialFilter)\r\n  const [pagination, setPagination] = useState(paginate)\r\n  const setLoader = useLoaderContext()\r\n\r\n  const getSubPaginas = (rowsPerPage = 10, page = 1) => {\r\n    setLoader(true)\r\n    SaveRequestData({\r\n      path: CONFIG_SUBMENU_INDEX,\r\n      body: dataForm,\r\n      fnRequest: listSubmenu,\r\n      pagination: true,\r\n      rowsPerPage,\r\n      page,\r\n      success: (resp) => {\r\n        let {rowsPerPage, count, page} = resp;\r\n        --page \r\n        setPaginas(resp.data);\r\n        setPagination({rowsPerPage, count, page})\r\n        setLoader(false)\r\n      },\r\n      error: (err) => {\r\n        setLoader(false)\r\n        MessageUtil({ message: err.statusText, type: \"error\", seg: 10 });\r\n      },\r\n    });\r\n  };\r\n\r\n  const guardarSubpaginas = () => {\r\n    setLoader(true)\r\n    SaveRequestData({\r\n      path: CONFIG_SUBMENU_NEW,\r\n      body: {...data},\r\n      fnRequest: saveSubmenu,\r\n      success: (resp) => {\r\n        getSubPaginas()\r\n        setOpenModal(false)\r\n        resetForm()\r\n        MessageUtil({ message: resp.statusText, type: \"success\", seg: 10 });\r\n        setLoader(false)\r\n      },\r\n      error: (err) => {\r\n        MessageUtil({ message: err.statusText, type: \"error\", seg: 10 });\r\n        setLoader(false)\r\n      },\r\n    });\r\n  }\r\n\r\n  const actualizarSubmenus = (submenu) => {\r\n    setData(submenu)\r\n    setOpenModal(true)\r\n  }\r\n\r\n  const deletePagina = (id) => {\r\n    const config = {\r\n      title: '¿Estás seguro?',\r\n      text: \"Al eliminar la página, no habrá vuelta atrás!\",\r\n      icon: 'warning',\r\n    }\r\n    \r\n    const fnRequestPage = () => {\r\n      SaveRequestData({\r\n        path: `${CONFIG_SUBMENU_DELETE}/${id}`,\r\n        body: {},\r\n        fnRequest: deleteSubmenu,\r\n        success: (resp) => {\r\n          AlertUtilRelease({\r\n            title: '¡Eliminado!',\r\n            text: resp.statusText,\r\n            icon: 'success',\r\n          })\r\n          getSubPaginas();\r\n        },\r\n        error: (err) => {\r\n          MessageUtil({ message: err.statusText, type: \"error\", seg: 10 });\r\n        },\r\n      })\r\n    }\r\n    \r\n    AlertUtilDelete(fnRequestPage, { config })\r\n  };\r\n\r\n  useEffect(() => {\r\n    getSubPaginas()\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  \r\n  return (\r\n    <>\r\n      <Box>\r\n        <Stack direction=\"row\" spacing={3}>\r\n          <Controls.Title variant=\"h1\" component=\"h1\" title=\"Sub Páginas\" />\r\n\r\n          <Controls.ButtonComponent\r\n            variant=\"primary-small\"\r\n            type=\"admin\"\r\n            title=\"Nueva Sub Página\"\r\n            onClick={() => setOpenModal(true)}\r\n          />\r\n        </Stack>\r\n\r\n        <br />\r\n        \r\n        <Box>\r\n          <Controls.TextComponent variant=\"h3\" component=\"div\">Filtros de Búsqueda</Controls.TextComponent>\r\n          <br />\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={3}>\r\n              <Controls.InputComponent label=\"Nombre\" name=\"NOMBRE_SUBMENU\" value={dataForm.NOMBRE_SUBMENU} onChange={handleInputChange} />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Controls.InputComponent label=\"Ruta\" name=\"PATH\" value={dataForm.PATH} onChange={handleInputChange} />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Controls.SelectComponent label=\"Estado\" name=\"ESTADO\" list={listEstado} value={dataForm.ESTADO} onChange={handleInputChange} />\r\n            </Grid>\r\n          </Grid>\r\n          <br />\r\n          <ButtonsSearchComponent \r\n            resetForm={() => resetData()}\r\n            filterForm={() => getSubPaginas()}\r\n          />\r\n        </Box>\r\n\r\n        <br />\r\n\r\n        <Controls.TableComponents\r\n          pagination={pagination}\r\n          setPagination={setPagination}\r\n          fnPagination={getSubPaginas}\r\n        >\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Nombre</TableCell>\r\n                <TableCell>Ruta</TableCell>\r\n                <TableCell>Icon</TableCell>\r\n                <TableCell>Operación</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n\r\n            <TableBody>\r\n              {paginas.length > 0 ? (\r\n                paginas.map((el, index) => (\r\n                  <TableRow hover role=\"checkbox\" tabIndex={-1} key={index}>\r\n                    <TableCell>{el.NOMBRE_SUBMENU}</TableCell>\r\n                    <TableCell>{el.PATH}</TableCell>\r\n                    <TableCell>{el.NOMBRE_ICON}</TableCell>\r\n                    <TableCell>\r\n                      <Stack direction=\"row\" spacing={1}>\r\n                        <Controls.ButtonIconComponent\r\n                          title=\"Editar\"\r\n                          icon={ICON.EDIT}\r\n                          onClick={() => actualizarSubmenus(el)}\r\n                        />\r\n\r\n                        <Controls.ButtonIconComponent\r\n                          title=\"Eliminar\"\r\n                          icon={ICON.DELETE}\r\n                          onClick={() => deletePagina(el._id)}\r\n                        />\r\n                      </Stack>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              ) : (\r\n                <TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n                  <TableCell colSpan={4} align=\"center\">\r\n                    Todavía no se insertó ningun registro\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </Controls.TableComponents>\r\n      </Box>\r\n      <Controls.Modal\r\n        open={openModal}\r\n        setOpen={setOpenModal}\r\n        title={data._id ? \"Editar Sub Página\" : \"Agregar Nueva Sub Página\"}\r\n        resetForm={resetForm}\r\n        fullWidth={true}\r\n        maxWidth=\"sm\"\r\n      >\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Controls.InputComponent\r\n              label=\"Nombre de la página\"\r\n              name=\"NOMBRE_SUBMENU\"\r\n              value={data.NOMBRE_SUBMENU}\r\n              onChange={handleInputFormChange}\r\n              error={errors.NOMBRE_SUBMENU}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Controls.InputComponent\r\n              label=\"Nombre del icono\"\r\n              name=\"NOMBRE_ICON\"\r\n              value={data.NOMBRE_ICON}\r\n              onChange={handleInputFormChange}\r\n              error={errors.NOMBRE_ICON}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Controls.InputComponent\r\n              label=\"Nombre de la ruta\"\r\n              name=\"PATH\"\r\n              value={data.PATH}\r\n              onChange={handleInputFormChange}\r\n              error={errors.PATH}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Controls.SelectComponent\r\n              label=\"Estado\"\r\n              name=\"ESTADO\"\r\n              list={listEstado}\r\n              value={data.ESTADO}\r\n              onChange={handleInputFormChange}\r\n              error={errors.ESTADO}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Stack direction=\"row\" spacing={3} justifyContent=\"center\">\r\n              <Controls.ButtonComponent\r\n                title=\"VOLVER\"\r\n                variant=\"secondary-normal\"\r\n                type=\"admin\"\r\n                icon={ICON.BACK}\r\n                onClick={() => setOpenModal(false)}\r\n              />\r\n              <Controls.ButtonComponent\r\n                title={data._id ? \"Editar\" : \"Guardar\"}\r\n                variant=\"primary-normal\"\r\n                type=\"admin\"\r\n                icon={ICON.SAVE}\r\n                onClick={() => guardarSubpaginas()}\r\n              />\r\n            </Stack>\r\n          </Grid>\r\n        </Grid>\r\n      </Controls.Modal>\r\n    </>\r\n  );\r\n}\r\n"],"names":["dataInitialSubPaginas","NOMBRE_SUBMENU","NOMBRE_ICON","PATH","ESTADO","dataInitialFilter","paginate","rowsPerPage","page","count","listEstado","label","value","SubpaginasDetail","useState","paginas","setPaginas","openModal","setOpenModal","useFormValidation","data","setData","errors","handleInputFormChange","resetForm","useForm","dataForm","handleInputChange","resetData","pagination","setPagination","setLoader","useLoaderContext","getSubPaginas","SaveRequestData","path","CONFIG_SUBMENU_INDEX","body","fnRequest","listSubmenu","success","resp","error","err","MessageUtil","message","statusText","type","seg","useEffect","direction","spacing","variant","component","title","onClick","container","item","xs","name","onChange","list","filterForm","fnPagination","stickyHeader","length","map","el","index","hover","role","tabIndex","icon","ICON","id","_id","AlertUtilDelete","CONFIG_SUBMENU_DELETE","deleteSubmenu","AlertUtilRelease","text","config","colSpan","align","open","setOpen","fullWidth","maxWidth","justifyContent","CONFIG_SUBMENU_NEW","saveSubmenu"],"sourceRoot":""}