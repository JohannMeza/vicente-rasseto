"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[237],{5237:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a=t(1413),s=t(9439),r=t(8870),i=t(3767),o=t(1889),l=t(9836),u=t(6890),c=t(5855),d=t(3994),x=t(3382),m=t(2791),h=t(4092),g=t(9969),p=t(4673),j=t(5760),f=t(6249),E=t(3943),N=t(6206),C=t(589),b=t(4884),v=t(2480),O=t(6915),S=t(184),Z={NOMBRE_SUBMENU:null,NOMBRE_ICON:null,PATH:null,ESTADO:!0},P={NOMBRE_SUBMENU:null,PATH:null,ESTADO:!0},B={rowsPerPage:10,page:0,count:0},M=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function U(){var e=(0,m.useState)([]),n=(0,s.Z)(e,2),t=n[0],U=n[1],T=(0,m.useState)(!1),I=(0,s.Z)(T,2),_=I[0],R=I[1],A=(0,N.useFormValidation)(Z,!0),y=A.data,D=A.setData,k=A.errors,w=A.handleInputFormChange,F=A.resetForm,H=(0,E.useForm)(P),q=(0,s.Z)(H,3),G=q[0],V=q[1],L=q[2],W=(0,m.useState)(B),K=(0,s.Z)(W,2),X=K[0],z=K[1],J=(0,C.default)(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;J(!0),(0,f.SaveRequestData)({path:g.CONFIG_SUBMENU_INDEX,body:G,fnRequest:b.listSubmenu,pagination:!0,rowsPerPage:e,page:n,success:function(e){var n=e.rowsPerPage,t=e.count,a=e.page;--a,U(e.data),z({rowsPerPage:n,count:t,page:a}),J(!1)},error:function(e){J(!1),(0,O.MessageUtil)({message:e.statusText,type:"error",seg:10})}})};return(0,m.useEffect)((function(){Q()}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(r.Z,{children:[(0,S.jsxs)(i.Z,{direction:"row",spacing:3,children:[(0,S.jsx)(p.default.Title,{variant:"h1",component:"h1",title:"Sub P\xe1ginas"}),(0,S.jsx)(p.default.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nueva Sub P\xe1gina",onClick:function(){return R(!0)}})]}),(0,S.jsx)("br",{}),(0,S.jsxs)(r.Z,{children:[(0,S.jsx)(p.default.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,S.jsx)("br",{}),(0,S.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(o.ZP,{item:!0,xs:3,children:(0,S.jsx)(p.default.InputComponent,{label:"Nombre",name:"NOMBRE_SUBMENU",value:G.NOMBRE_SUBMENU,onChange:V})}),(0,S.jsx)(o.ZP,{item:!0,xs:3,children:(0,S.jsx)(p.default.InputComponent,{label:"Ruta",name:"PATH",value:G.PATH,onChange:V})}),(0,S.jsx)(o.ZP,{item:!0,xs:3,children:(0,S.jsx)(p.default.SelectComponent,{label:"Estado",name:"ESTADO",list:M,value:G.ESTADO,onChange:V})})]}),(0,S.jsx)("br",{}),(0,S.jsx)(h.default,{resetForm:function(){return L()},filterForm:function(){return Q()}})]}),(0,S.jsx)("br",{}),(0,S.jsx)(p.default.TableComponents,{pagination:X,setPagination:z,fnPagination:Q,children:(0,S.jsxs)(l.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,S.jsx)(u.Z,{children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(d.Z,{children:"Nombre"}),(0,S.jsx)(d.Z,{children:"Ruta"}),(0,S.jsx)(d.Z,{children:"Icon"}),(0,S.jsx)(d.Z,{children:"Operaci\xf3n"})]})}),(0,S.jsx)(x.Z,{children:t.length>0?t.map((function(e,n){return(0,S.jsxs)(c.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,S.jsx)(d.Z,{children:e.NOMBRE_SUBMENU}),(0,S.jsx)(d.Z,{children:e.PATH}),(0,S.jsx)(d.Z,{children:e.NOMBRE_ICON}),(0,S.jsx)(d.Z,{children:(0,S.jsxs)(i.Z,{direction:"row",spacing:1,children:[(0,S.jsx)(p.default.ButtonIconComponent,{title:"Editar",icon:j.ICON.EDIT,onClick:function(){return D(e),void R(!0)}}),(0,S.jsx)(p.default.ButtonIconComponent,{title:"Eliminar",icon:j.ICON.DELETE,onClick:function(){return n=e._id,void(0,v.AlertUtilDelete)((function(){(0,f.SaveRequestData)({path:"".concat(g.CONFIG_SUBMENU_DELETE,"/").concat(n),body:{},fnRequest:b.deleteSubmenu,success:function(e){(0,v.AlertUtilRelease)({title:"\xa1Eliminado!",text:e.statusText,icon:"success"}),Q()},error:function(e){(0,O.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}),{config:{title:"\xbfEst\xe1s seguro?",text:"Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}});var n}})]})})]},n)})):(0,S.jsx)(c.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,S.jsx)(d.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})})]}),(0,S.jsx)(p.default.Modal,{open:_,setOpen:R,title:y._id?"Editar Sub P\xe1gina":"Agregar Nueva Sub P\xe1gina",resetForm:F,fullWidth:!0,maxWidth:"sm",children:(0,S.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(p.default.InputComponent,{label:"Nombre de la p\xe1gina",name:"NOMBRE_SUBMENU",value:y.NOMBRE_SUBMENU,onChange:w,error:k.NOMBRE_SUBMENU})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(p.default.InputComponent,{label:"Nombre del icono",name:"NOMBRE_ICON",value:y.NOMBRE_ICON,onChange:w,error:k.NOMBRE_ICON})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(p.default.InputComponent,{label:"Nombre de la ruta",name:"PATH",value:y.PATH,onChange:w,error:k.PATH})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(p.default.SelectComponent,{label:"Estado",name:"ESTADO",list:M,value:y.ESTADO,onChange:w,error:k.ESTADO})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsxs)(i.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,S.jsx)(p.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:j.ICON.BACK,onClick:function(){return R(!1)}}),(0,S.jsx)(p.default.ButtonComponent,{title:y._id?"Editar":"Guardar",variant:"primary-normal",type:"admin",icon:j.ICON.SAVE,onClick:function(){return J(!0),void(0,f.SaveRequestData)({path:g.CONFIG_SUBMENU_NEW,body:(0,a.Z)({},y),fnRequest:b.saveSubmenu,success:function(e){Q(),R(!1),F(),(0,O.MessageUtil)({message:e.statusText,type:"success",seg:10}),J(!1)},error:function(e){(0,O.MessageUtil)({message:e.statusText,type:"error",seg:10}),J(!1)}})}})]})})]})})]})}}}]);
//# sourceMappingURL=237.7b1f6d64.chunk.js.map