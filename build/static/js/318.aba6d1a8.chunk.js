"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[318],{7318:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var a=t(1413),s=t(9439),i=t(8870),r=t(3767),o=t(1889),l=t(9836),c=t(6890),u=t(5855),d=t(3994),x=t(3382),h=t(2791),m=t(4092),g=t(9969),p=t(4673),j=t(5760),E=t(6249),f=t(3943),C=t(6206),N=t(589),O=t(1976),v=t(7535),Z=t(2480),P=t(6915),b=t(184),M={rowsPerPage:10,page:0,count:0},I={NOMBRE_MENU:null,NOMBRE_ICON:null,PATH:null,ESTADO:!0},T={NOMBRE_MENU:null,PATH:null,ESTADO:!0},R=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function A(){var e=(0,h.useState)([]),n=(0,s.Z)(e,2),t=n[0],A=n[1],_=(0,h.useState)(!1),B=(0,s.Z)(_,2),S=B[0],y=B[1],D=(0,C.useFormValidation)(I,!0),U=D.data,k=D.setData,w=D.errors,F=D.handleInputFormChange,H=D.resetForm,q=(0,f.useForm)(T),V=(0,s.Z)(q,3),G=V[0],L=V[1],W=V[2],K=(0,h.useState)(M),X=(0,s.Z)(K,2),z=X[0],J=X[1],Q=(0,N.default)(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Q(!0),(0,E.SaveRequestData)({path:g.CONFIG_INDEX,body:G,fnRequest:O.listMenu,pagination:!0,rowsPerPage:e,page:n,success:function(e){Q(!1);var n=e.rowsPerPage,t=e.count,a=e.page;--a,A(e.data),J({rowsPerPage:n,count:t,page:a})},error:function(e){Q(!1),(0,P.MessageUtil)({message:e.statusText,type:"error",seg:10})}})};return(0,h.useEffect)((function(){Y()}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(i.Z,{children:[(0,b.jsxs)(r.Z,{direction:"row",spacing:3,children:[(0,b.jsx)(p.default.Title,{variant:"h1",component:"h1",title:"P\xe1ginas"}),(0,b.jsx)(p.default.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nueva P\xe1gina",onClick:function(){return y(!0)}})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(i.Z,{children:[(0,b.jsx)(p.default.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,b.jsx)("br",{}),(0,b.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(p.default.InputComponent,{label:"Nombre de la P\xe1gina",name:"NOMBRE_MENU",onChange:L,value:G.NOMBRE_MENU})}),(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(p.default.InputComponent,{label:"Ruta",name:"PATH",onChange:L,value:G.PATH})}),(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(p.default.SelectComponent,{label:"Estado",list:R,name:"ESTADO",onChange:L,value:G.ESTADO})})]}),(0,b.jsx)("br",{}),(0,b.jsx)(m.default,{resetForm:W,filterForm:Y})]}),(0,b.jsx)("br",{}),(0,b.jsx)(p.default.TableComponents,{pagination:z,setPagination:J,fnPagination:Y,children:(0,b.jsxs)(l.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,b.jsx)(c.Z,{children:(0,b.jsxs)(u.Z,{children:[(0,b.jsx)(d.Z,{children:"Nombre"}),(0,b.jsx)(d.Z,{children:"Ruta"}),(0,b.jsx)(d.Z,{children:"Icon"}),(0,b.jsx)(d.Z,{children:"Operaci\xf3n"})]})}),(0,b.jsx)(x.Z,{children:t.length>0?t.map((function(e,n){return(0,b.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,b.jsx)(d.Z,{children:e.NOMBRE_MENU}),(0,b.jsx)(d.Z,{children:e.PATH}),(0,b.jsx)(d.Z,{children:e.NOMBRE_ICON}),(0,b.jsx)(d.Z,{children:(0,b.jsxs)(r.Z,{direction:"row",spacing:1,children:[(0,b.jsx)(p.default.ButtonIconComponent,{title:"Editar",icon:j.ICON.EDIT,onClick:function(){return function(e){y(!0),k(e)}(e)}}),(0,b.jsx)(p.default.ButtonIconComponent,{title:"Eliminar",icon:j.ICON.DELETE,onClick:function(){return n=e._id,void(0,Z.AlertUtilDelete)((function(){(0,E.SaveRequestData)({path:"".concat(g.CONFIG_DELETE,"/").concat(n),body:{},fnRequest:O.deleteMenu,success:function(e){(0,Z.AlertUtilRelease)({title:"\xa1Eliminado!",text:e.statusText,icon:"success"}),Y()},error:function(e){(0,P.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}),{config:{title:"\xbfEst\xe1s seguro?",text:"Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}});var n}})]})})]},n)})):(0,b.jsx)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,b.jsx)(d.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})})]}),(0,b.jsx)(p.default.Modal,{open:S,setOpen:y,title:U._id?"Editar P\xe1gina":"Agregar Nueva P\xe1gina",fullWidth:!0,resetForm:H,maxWidth:"sm",children:(0,b.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(p.default.InputComponent,{label:"Nombre de la p\xe1gina",name:"NOMBRE_MENU",value:U.NOMBRE_MENU,onChange:F,error:w.NOMBRE_MENU})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(p.default.InputComponent,{label:"Nombre del icono",name:"NOMBRE_ICON",value:U.NOMBRE_ICON,onChange:F,error:w.NOMBRE_ICON})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(p.default.InputComponent,{label:"Ruta Base",name:"PATH",value:U.PATH,onChange:F,error:w.PATH})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsx)(p.default.SelectComponent,{label:"Estado",name:"ESTADO",value:U.ESTADO,list:R,onChange:F,error:w.ESTADO})}),(0,b.jsx)(o.ZP,{item:!0,xs:12,children:(0,b.jsxs)(r.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,b.jsx)(p.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:j.ICON.BACK,onClick:function(){return y(!1)}}),(0,b.jsx)(p.default.ButtonComponent,{title:U._id?"Editar":"Guardar",variant:"primary-normal",type:"admin",icon:j.ICON.SAVE,onClick:function(){return console.log(w),Q(!0),U._id,void(0,E.SaveRequestData)({path:g.pathServer.CONFIGURACION.MENU.NEW,body:(0,a.Z)({},U),fnRequest:v.SERVICES_POST,success:function(e){Y(),(0,P.MessageUtil)({message:e.statusText,type:"success",seg:10}),y(!1),Q(!1)},error:function(e){Q(!1),(0,P.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}})]})})]})})]})}}}]);
//# sourceMappingURL=318.aba6d1a8.chunk.js.map