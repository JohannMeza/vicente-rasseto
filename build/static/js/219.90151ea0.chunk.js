"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[219],{8751:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var o=t(1413),s=t(9439),r=t(8870),a=t(3767),i=t(1889),l=t(9836),c=t(6890),u=t(5855),d=t(3994),p=t(3382),x=t(2791),Z=t(4092),E=t(9969),m=t(9412),h=t(5760),j=t(6249),v=t(3943),f=t(6206),I=t(589),D=t(7535),S=t(4634),T=t(184),g={GRADOS:"",ESTADO:!0},C={rowsPerPage:10,page:0,count:0},O=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function b(){var e=(0,v.useForm)(g),n=(0,s.Z)(e,3),t=n[0],o=(n[1],n[2]),f=(0,x.useState)(C),O=(0,s.Z)(f,2),b=(O[0],O[1]),N=(0,x.useState)([]),P=(0,s.Z)(N,2),y=P[0],V=P[1],G=(0,I.default)(),w=(0,x.useState)(!1),L=(0,s.Z)(w,2),_=L[0],B=L[1],F=(0,x.useState)(null),k=(0,s.Z)(F,2),U=k[0],W=k[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;G(!0),(0,j.a)({path:E.B3.ADMINISTRACION.GRADOS.INDEX,body:t,fnRequest:D.yA,pagination:!0,rowsPerPage:e,page:n,success:function(e){G(!1),console.log(e);var n=e.rowsPerPage,t=e.count,o=e.page;--o,V(e.data),b({rowsPerPage:n,count:t,page:o})},error:function(e){G(!1),(0,S.V)({message:e.statusText,type:"error",seg:10})}})};return(0,x.useEffect)((function(){R()}),[]),(0,T.jsxs)(r.Z,{children:[(0,T.jsxs)(a.Z,{direction:"row",spacing:3,children:[(0,T.jsx)(m.Z.Title,{variant:"h1",component:"h1",title:"Grados"}),(0,T.jsx)(m.Z.ButtonComponent,{variant:"primary-small",type:"admin",title:"Nuevo Grado",onClick:function(){return B(!0)}})]}),(0,T.jsx)("br",{}),(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(m.Z.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,T.jsx)("br",{}),(0,T.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(i.ZP,{item:!0,xs:3,children:(0,T.jsx)(m.Z.InputComponent,{label:"Grados"})}),(0,T.jsx)(i.ZP,{item:!0,xs:3,children:(0,T.jsx)(m.Z.InputComponent,{label:"Estado"})})]}),(0,T.jsx)("br",{}),(0,T.jsx)(Z.Z,{resetForm:o,filterForm:R})]}),(0,T.jsx)("br",{}),(0,T.jsx)(m.Z.TableComponents,{children:(0,T.jsxs)(l.Z,{children:[(0,T.jsx)(c.Z,{children:(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(d.Z,{children:"Grado"}),(0,T.jsx)(d.Z,{children:"Nivel Estudio"}),(0,T.jsx)(d.Z,{children:"Opciones"})]})}),(0,T.jsx)(p.Z,{children:(null===y||void 0===y?void 0:y.length)>0?y.map((function(e,n){u.Z,d.Z,e.DESCRIPCION,d.Z,e.NIVEL_ESTUDIO,d.Z,a.Z,m.Z.ButtonIconComponent,h.W.EDIT,m.Z.ButtonIconComponent,h.W.DELETE})):(0,T.jsx)(u.Z,{children:(0,T.jsx)(d.Z,{colSpan:3,sx:{textAlign:"center"},children:"Sin Filas"})})})]})}),(0,T.jsx)(A,{open:_,setOpen:B,saveGrado:function(){},isDataToEdit:U,setIsDataToEdit:W})]})}var A=function(e){var n=e.open,t=e.setOpen,s=e.saveGrado,r=e.isDataToEdit,l=e.setIsDataToEdit,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=(0,o.Z)({},Z);if("NIVEL_ESTUDIO"in e&&(n.NIVEL_ESTUDIO=e.NIVEL_ESTUDIO?"":"El campo Nivel de Estudio es requerido"),"ESTADO"in e&&(n.ESTADO="boolean"!==typeof e.ESTADO?"El campo Estado es requerido":""),E((0,o.Z)({},n)),e===d)return Object.values(n).every((function(e){return""===e}))},u=(0,f.useFormValidation)(g,!0,c),d=u.data,p=u.setData,Z=u.errors,E=u.setErrors,j=u.handleInputFormChange,v=u.resetForm,I=function(){v(),t(!1),l(null)};return(0,x.useEffect)((function(){r&&p(r)}),[r,p]),(0,T.jsxs)(m.Z.Modal,{open:n,setOpen:I,minWidth:600,fullWidth:!0,maxWidth:"sm",title:"Nuevo Grado",children:[(0,T.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z.InputComponent,{label:"Grado",name:"NIVEL_ESTUDIO",onChange:j,error:Z.NIVEL_ESTUDIO,value:d.NIVEL_ESTUDIO})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z.SelectComponent,{label:"Estado",list:O,name:"ESTADO",onChange:j,error:Z.ESTADO,value:d.ESTADO})})]}),(0,T.jsx)("br",{}),(0,T.jsxs)(a.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,T.jsx)(m.Z.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:h.W.BACK,onClick:I}),(0,T.jsx)(m.Z.ButtonComponent,{title:"Guardar",variant:"primary-normal",type:"admin",icon:h.W.SAVE,onClick:function(){c()&&(s(d),l(null))}})]})]})}}}]);
//# sourceMappingURL=219.90151ea0.chunk.js.map