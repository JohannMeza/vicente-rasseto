"use strict";(self.webpackChunksistema_web=self.webpackChunksistema_web||[]).push([[149],{4149:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var a=n(1413),r=n(9439),i=n(8870),s=n(3767),o=n(1889),l=n(9836),u=n(6890),c=n(5855),d=n(3994),f=n(3382),h=n(2791),g=n(6871),x=n(8012),p=n(4673),m=n(5760),S=n(9969),j=n(589),N=n(6915),C=n(6249),E=n(7535),P=n(2480),v=n(3943),U=n(4092),Z=n(184),A=[{field:"NOMBRE_SUBMENU",headerName:"Nombre",width:180},{field:"NOMBRE_ICON",headerName:"Icono",width:180},{field:"PATH",headerName:"Ruta",width:180}],I={rowsPerPage:5,page:1,count:0},R={NOMBRE_SUBMENU:null,PATH:null,ESTADO:!0},M={NOMBRE_SUBMENU:null,PATH:null},O={rowsPerPage:10,page:0,count:0},b=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}];function B(){var e=(0,g.s0)(),t=(0,h.useState)(!1),n=(0,r.Z)(t,2),B=n[0],T=n[1],_=(0,h.useState)(!1),w=(0,r.Z)(_,2),y=w[0],D=w[1],F=(0,h.useState)([]),H=(0,r.Z)(F,2),k=H[0],G=H[1],q=(0,h.useState)(I),V=(0,r.Z)(q,2),L=V[0],z=V[1],K=(0,h.useState)(O),W=(0,r.Z)(K,2),X=W[0],J=W[1],Q=(0,j.default)(),Y=(0,h.useState)([]),$=(0,r.Z)(Y,2),ee=$[0],te=$[1],ne=(0,h.useState)([]),ae=(0,r.Z)(ne,2),re=ae[0],ie=ae[1],se=(0,h.useState)([]),oe=(0,r.Z)(se,2),le=oe[0],ue=oe[1],ce=(0,h.useState)(null),de=(0,r.Z)(ce,2),fe=de[0],he=de[1],ge=(0,g.UO)().id,xe=(0,v.useForm)(R),pe=(0,r.Z)(xe,3),me=pe[0],Se=pe[1],je=pe[2],Ne=(0,v.useForm)(M),Ce=(0,r.Z)(Ne,3),Ee=Ce[0],Pe=Ce[1],ve=Ce[2],Ue=function(){T(!1),z(I)},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Q(!0),D(!0),(0,C.SaveRequestData)({path:S.pathServer.CONFIGURACION.SUBMENU.INDEX,body:me,fnRequest:E.SERVICES_POST,pagination:!0,rowsPerPage:e,page:t,success:function(e){var t=e.data.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{id:e._id})})),n=e.rowsPerPage,r=e.count,i=e.page;G(t),z({rowsPerPage:n,count:r,page:i}),Q(!1),D(!1)},error:function(e){console.log(e),(0,N.MessageUtil)({message:e.statusText,type:"error",seg:10})}})};return(0,h.useEffect)((function(){B&&Ze()}),[B]),(0,h.useEffect)((function(){Q(!0),(0,C.SaveRequestData)({path:S.pathServer.CONFIG_MENU.SEARCH_SUBPAGINAS+ge,body:me,fnRequest:E.SERVICES_POST,success:function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.ID_CONFIGURACION_SUBMENU;he(e.data.PATH),ie(n),ue(n),te(Array.from(n,(function(e){return e._id}))),J({rowsPerPage:10,count:n.length,page:0}),Q(!1)},error:function(e){Q(!1),(0,N.MessageUtil)({message:e.statusText,type:"error",seg:10})}})}),[]),(0,Z.jsxs)(i.Z,{sx:{width:"100%"},children:[(0,Z.jsx)(s.Z,{direction:"row",spacing:3,children:(0,Z.jsx)(p.default.Title,{variant:"h1",component:"h1",title:"Configuraci\xf3n"})}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(p.default.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(o.ZP,{item:!0,xs:3,children:(0,Z.jsx)(p.default.InputComponent,{label:"Nombre",name:"NOMBRE_SUBMENU",value:Ee.NOMBRE_SUBMENU,onChange:Pe})}),(0,Z.jsx)(o.ZP,{item:!0,xs:3,children:(0,Z.jsx)(p.default.InputComponent,{label:"Ruta",name:"PATH",value:Ee.PATH,onChange:Pe})})]}),(0,Z.jsx)("br",{}),(0,Z.jsx)(U.default,{resetForm:function(){return ve()},filterForm:function(){return function(){var e=Ee.PATH,t=Ee.NOMBRE_SUBMENU;e=new RegExp(e||"","ig"),t=new RegExp(t||"","ig");var n=re.filter((function(n){return n.PATH.match(e)&&n.NOMBRE_SUBMENU.match(t)}));ue(n)}()}})]}),(0,Z.jsx)("br",{}),(0,Z.jsx)(p.default.TableComponents,{pagination:X,setPagination:J,children:(0,Z.jsxs)(l.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,Z.jsx)(u.Z,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:"Nombre"}),(0,Z.jsx)(d.Z,{children:"Ruta"}),(0,Z.jsx)(d.Z,{children:"Ruta Final"}),(0,Z.jsx)(d.Z,{children:"Icon"}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(p.default.ButtonComponent,{title:"AGREGAR",variant:"primary-small",type:"admin",onClick:function(){return T(!0)}})})]})}),(0,Z.jsx)(f.Z,{children:(null===le||void 0===le?void 0:le.length)>0?le.slice(X.page*X.rowsPerPage,X.page*X.rowsPerPage+X.rowsPerPage).map((function(e,t){return(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:e.NOMBRE_SUBMENU}),(0,Z.jsx)(d.Z,{children:e.PATH}),(0,Z.jsx)(d.Z,{children:fe+e.PATH}),(0,Z.jsx)(d.Z,{children:e.NOMBRE_ICON}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(s.Z,{direction:"row",spacing:1,children:(0,Z.jsx)(p.default.ButtonIconComponent,{title:"Eliminar",icon:m.ICON.DELETE,onClick:function(){return function(e){(0,P.AlertUtilDelete)((function(){var t=re.filter((function(t){return t.id?t.id!==e:t._id!==e})),n=le.filter((function(t){return t.id?t.id!==e:t._id!==e})),r=ee.filter((function(t){return t!==e}));ie(t),ue(n),te(r),J((0,a.Z)((0,a.Z)({},X),{},{rowsPerPage:10,count:t.length}))}),{config:{title:"\xbfEst\xe1s seguro?",text:"\xa1Al eliminar la p\xe1gina, no habr\xe1 vuelta atr\xe1s!",icon:"warning"}})}(e.id||e._id)}})})})]},t)})):(0,Z.jsx)(c.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:(0,Z.jsx)(d.Z,{colSpan:4,align:"center",children:"Todav\xeda no se insert\xf3 ningun registro"})})})]})}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(s.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,Z.jsx)(p.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:m.ICON.BACK,onClick:function(){return e(x.pathFront.ADMINISTRACION.PAGINAS.ADMIN)}}),(0,Z.jsx)(p.default.ButtonComponent,{title:"Guardar",variant:"primary-normal",type:"admin",icon:m.ICON.SAVE,onClick:function(){return Q(!0),void(0,C.SaveRequestData)({path:S.pathServer.CONFIGURACION.MENU.UPDATE_SUBMENUS+ge,body:{arrSubmenus:ee},fnRequest:E.SERVICES_PUT,success:function(t){e(x.pathFront.ADMINISTRACION.PAGINAS.ADMIN),Q(!1),(0,N.MessageUtil)({message:t.statusText,type:"success",seg:10})},error:function(e){(0,N.MessageUtil)({message:e.statusText,type:"error",seg:10}),Q(!1)}})}})]}),(0,Z.jsxs)(p.default.Modal,{open:B,setOpen:T,title:"Agregar Sub P\xe1ginas",fullWidth:!0,maxWidth:"md",children:[(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(p.default.TextComponent,{variant:"h3",component:"div",children:"Filtros de B\xfasqueda"}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(o.ZP,{item:!0,xs:3,children:(0,Z.jsx)(p.default.InputComponent,{label:"Nombre",name:"NOMBRE_SUBMENU",value:me.NOMBRE_SUBMENU,onChange:Se})}),(0,Z.jsx)(o.ZP,{item:!0,xs:3,children:(0,Z.jsx)(p.default.InputComponent,{label:"Ruta",name:"PATH",value:me.PATH,onChange:Se})}),(0,Z.jsx)(o.ZP,{item:!0,xs:3,children:(0,Z.jsx)(p.default.SelectComponent,{label:"Estado",name:"ESTADO",list:b,value:me.ESTADO,onChange:Se})})]}),(0,Z.jsx)("br",{}),(0,Z.jsx)(U.default,{resetForm:function(){return je()},filterForm:function(){return Ze()}})]}),(0,Z.jsx)("br",{}),(0,Z.jsx)("div",{style:{height:400,width:"100%"},children:(0,Z.jsx)(p.default.TableSelectionComponent,{rows:k,columns:A,pageSize:L,setPageSize:z,loading:y,rowsPerPageOptions:[5,10,20],onSelectionModelChange:function(e){return te(e)},fnPagination:Ze,selectionModel:ee})}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(s.Z,{direction:"row",spacing:3,justifyContent:"center",children:[(0,Z.jsx)(p.default.ButtonComponent,{title:"VOLVER",variant:"secondary-normal",type:"admin",icon:m.ICON.BACK,onClick:function(){return Ue()}}),(0,Z.jsx)(p.default.ButtonComponent,{title:"Guardar",variant:"primary-normal",type:"admin",icon:m.ICON.SAVE,onClick:function(){return Q(!0),void(0,C.SaveRequestData)({path:S.pathServer.CONFIGURACION.SUBMENU.SEARCH_MULTI_IDS,body:{arrIds:ee},fnRequest:E.SERVICES_POST,success:function(e){ie(e.data),ue(e.data),Q(!1),Ue(),J({rowsPerPage:10,count:e.data.length,page:0}),(0,N.MessageUtil)({message:e.statusText,type:"success",seg:10})},error:function(e){(0,N.MessageUtil)({message:e.statusText,type:"error",seg:10}),Q(!1)}})}})]})]})]})}}}]);
//# sourceMappingURL=149.ef043505.chunk.js.map